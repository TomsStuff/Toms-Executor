
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")


local function updateFireRates()
    -- Try to find the "Weapons" folder in ReplicatedStorage
    local weaponsFolder = ReplicatedStorage:FindFirstChild("Weapons")


    if weaponsFolder then
        print("Weapons folder found!")

       
        for _, weapon in pairs(weaponsFolder:GetChildren()) do
            -- Check if the child is a folder (assuming each weapon is stored in a folder)
            if weapon:IsA("Folder") then
                
                local fireRateValue = weapon:FindFirstChild("FireRate")

                
                if fireRateValue and fireRateValue:IsA("NumberValue") then
                    print("Found FireRate for weapon: " .. weapon.Name .. " with value: " .. fireRateValue.Value)

                    
                    local newFireRate = 0.0001  -- Set this to the desired fire rate
                    fireRateValue.Value = newFireRate
                    print("Updated FireRate for weapon: " .. weapon.Name .. " to value: " .. newFireRate)
                else
                    print("FireRate value not found or is not a NumberValue for weapon: " .. weapon.Name)
                end
            else
                print("Child is not a folder, skipping: " .. weapon.Name)
            end
        end
    else
        print("Weapons folder not found.")
    end
end


local function onPlayerRespawn(player)
  
    player.CharacterAdded:Connect(function(character)
        -- Wait for the humanoid to be added to the character
        local humanoid = character:WaitForChild("Humanoid")
        
      
        humanoid.Died:Connect(function()
            print("Player died: " .. player.Name)
            
           
            player.CharacterAdded:Connect(function()
                print("Player respawned: " .. player.Name)
                updateFireRates()
            end)
        end)
    end)
end


Players.PlayerAdded:Connect(function(player)
 
    onPlayerRespawn(player)
end)


updateFireRates()
